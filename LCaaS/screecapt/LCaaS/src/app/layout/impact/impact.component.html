<div [@routerTransition]>
    <app-page-header [heading]="'Variable Impact Report'" [icon]="'fa fa-th-list'"></app-page-header>
</div>
<div>
  <ng-template #content let-c="close" let-d="dismiss">
    <div class="modal-header" id="content">
      <label id="compName" name="compName">{{compName}}</label>
      <div>		
        &nbsp; <button id="showCodeBtn" class="btn btn-primary" style="float:center;" (click)="showCode()">Show Code</button>
        &nbsp; <button id="expandedCodeBtn" class="btn btn-primary" style="float:center;" (click)="showExpandedCode()">Show Expanded Code</button> &nbsp;
      </div>
      <label class="close" aria-label="Close" (click)="d('Cross click')">
        <span aria-hidden="true">&times;</span>
      </label>
    </div>
    <div class="modal-body" id="contentBody">
        <div id="canvasCode"></div>
        <div id="expandedCode"></div>
    </div>
  </ng-template>
</div>
<!-- <div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-2"><label style="font-weight:bold">Application: </label></div>
    <div class="col-md-3">
    <select class="form-control" ng-model="cmbAll" id="appln" (change)="applicationTypeOnchange($event)">
      <option id="appln" value="">--Select Application--</option>
      <option id="appln" *ngFor="let application of applicationTypeList" value={{application}}>
        {{application}}
      </option>
      </select>
    </div>
    <div class="col-md-1">
      <button class="btn btn-primary" (click)="onSubmit()">Submit</button>
    </div>
</div> -->
<br>
<div class="row">
    <div class="col-sm-1" style="text-align: right;">
      <label id="search">Search:</label>
    </div>
    <div class="col-md-2">
      <input type="text" id="searchFilter" (input)="searchFilterOnChange($event.target.value)">
    </div>
    <div class="col-md-2" style="float:right;">
      <button id="searchButton" (click)="filterTableSummaryView(true)" class="btn btn-primary">Search</button>
    </div>
    <!-- <div class="col-md-1" style="float:left;">
      <button id="clearButton" (click)="clearFilter()" class="btn btn-primary">Clear Search</button>
    </div> -->
    <div class="col-md-3" style="text-align:center;">
      <label id="totalrecords"></label>
    </div>
    <div class="col-md-1">
      <div [style.visibility]="showLoader ? 'visible' : 'hidden'" style="text-align: center"><i class="fa fa-spinner fa-spin fa-4x"></i>
      </div>
    </div>
    <div class="col-md-1">
        <button id="DetailedView" *ngIf="showDetialedView" (click)="showDetialed()" class="btn btn-primary">Detailed View</button>
        <button id="summaryView" *ngIf="showSummaryView" (click)="showSummary()" class="btn btn-primary">Summary View</button>
    </div>
    <div class="col-md-2" *ngIf="showExcel" style="float:right;">
      <a (click)="exportAsXLSX()" id="exportXlsx" onmouseover="" class="menu_links" style="cursor: pointer;"><img src="assets/images/export.png" id="exportImg" height="30" width="30" style="float:right"/></a>
    </div>
    <div id="summaryView" *ngIf="showSummaryView">
        <div id="table-contd" class="col-xl-12 table-cont" style="width:1120px;height:400px;overflow:scroll;">
            <table id="xrefDataTblSummary" style="overflow-wrap:break-word;border-spacing:0px;" class="table table-striped table-bordered table-sm row-border hover ">
              <thead class="xrefDataTblHeaderSummary">
                <tr>
                    <th style="text-align:center; color: white; background-color:dimgray; font-size: 9pt;" *ngFor="let header of dataSets.headers">{{header | uppercase}}</th>            
                </tr>
              </thead>
              <tbody class="xrefDataTblBodySummary">
                <tr *ngFor="let item of dataSets.data">
                    <td style="overflow-wrap: break-word;" (click)="openSummary(content, item[header], header, item)" *ngFor="let header of dataSets.headers">{{item[header]}}</td>
                </tr>
              </tbody>
            </table>
          </div>
    </div>
    <div id="detailedView" *ngIf="showDetialedView">
      <div id="table-cont" class="col-xl-12 table-cont" style="width:1120px;height:400px;overflow:scroll;">
        <table id="xrefDataTbl" style="overflow-wrap:break-word;border-spacing:0px;" class="table table-striped table-bordered table-sm row-border hover ">
          <thead class="xrefDataTblHeader">
            <tr>
                <th style="text-align:center; color: white; background-color:dimgray; font-size: 9pt;" *ngFor="let header of dataSets.headers">{{header | uppercase}}</th>            
            </tr>
          </thead>
          <tbody class="xrefDataTblBody">
            <tr *ngFor="let item of dataSets.data">
                <td style="overflow-wrap: break-word;" (click)="open(content, item[header], header, item)" *ngFor="let header of dataSets.headers">{{item[header]}}</td>
              <!-- <td style="overflow-wrap: break-word;" *ngFor="let header of dataSets.headers">{{item[header]}}</td> -->
              <!-- <td *ngFor="let item1 of item | keyvalue" style="text-align:center">{{item[item1.key]}}</td>   -->
            </tr>
          </tbody>
        </table>
      </div>
    </div>
</div>

      

