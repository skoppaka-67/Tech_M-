<div [@routerTransition]>
  <app-page-header [heading]="'Rules Report'" [icon]="'fa fa-fw fa-desktop'"></app-page-header>
</div>
<div>
  <ng-template #content let-c="close" let-d="dismiss">
    <div class="modal-header" id="content">
      <label id="compName" name="compName">{{compName}}</label>
      <div>		
        &nbsp; <button id="showCodeBtn" class="btn btn-primary" style="float:center;" (click)="showCode()">Show Code</button>
        &nbsp; <button id="expandedCodeBtn" class="btn btn-primary" style="float:center;" (click)="showExpandedCode()">Show Expanded Code</button> &nbsp;
      </div>
      <label class="close" aria-label="Close" (click)="d('Cross click')">
        <span aria-hidden="true">&times;</span>
      </label>
    </div>
    <div class="modal-body" id="contentBody">
      <div id="canvasCode"></div>
      <div id="expandedCode"></div>
    </div>
  </ng-template>
</div>
<div class="row">
    <div class="col-md-12" style="display:flex;">
        <div class="col-md-2"><label style="font-weight:bold">Application: </label></div>
        <div class="col-md-3">
          <select class="form-control" ng-model="cmbAll" id="appln" (change)="applicationTypeOnchange($event)">
            <option id="appln" value="">--Select Application--</option>
            <option id="appln" *ngFor="let application of applicationTypeList" value={{application}}>
              {{application}}
            </option>
            </select>
        </div>
    </div>
  </div>
  <div class="row">
<div class="col-md-12" style="display:flex;">
    <div class="col-md-2"><label style="font-weight:bold">File Type: </label></div>
    <div class="col-md-3">
        <select class="form-control" ng-model="fileAll" id="fileType" (change)="fileTypeOnChange($event)">
          <option id="appln" value="">--Select Type--</option>
          <option id="appln" value="PACKAGE">PACKAGE</option>
          <option id="appln" value="STAND-ALONE">STAND ALONE</option>
          </select>
        </div>
    <div class="col-md-2"><label style="font-weight:bold">List: </label></div>
    <div class="col-md-4">
    <select class="form-control" ng-model="cmbAll" id="list" (change)="listOnChange($event)">
      <option id="appln" value="">--Select List--</option>
      <option id="appln" *ngFor="let list of listValues" value={{list}}>
        {{list}}
      </option>
      </select>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-12" style="display:flex;">
    <div class="col-md-2"><label style="font-weight:bold">Program Name: </label></div>
    <div class="col-md-4">
      <select class="form-control" id="pgmName" ng-model="pgmName" (change)="programNamesOnchange($event)">
      <option id="pgmName" value="">--Select Program--</option>
      <option id="pgmName" *ngFor="let program of programNames" value={{program}}>
        {{program}}
      </option>
    </select></div>
    <div class="col-md-1">
      <button class="btn btn-primary" (click)="onSubmit()">Submit</button>
    </div>
    <div class="col-md-1" hidden>
      <button id="codeBtn" class="btn btn-primary" (click)="open(content)">Show Code</button>
    </div>
</div>
</div>


<div id="divbrecontent" class="row angular-with-newlines">
    <div class="col-xl-12">
        <div>
          <a (click)="exportAsXLSX()" onmouseover="" class="menu_links" style="cursor: pointer;">
            <img src="assets/images/export.png" height="25" width="25" style="float:right"/></a>
      <table #dtTable id="dataTbl" style="overflow-wrap:break-word;border-spacing:0px;width:100%;" class="table table-striped table-bordered table-sm row-border hover" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">
        <thead>
          <tr>
              <th style="text-align:center; color: white; background-color:dimgray; font-size: 9pt;" *ngFor="let header of dataSets.headers">{{header | uppercase}}</th>            
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let item of dataSets.data">
            <td style="overflow-wrap: break-word;" *ngFor="let header of dataSets.headers">{{item[header]}}</td>
            </tr>
      </tbody>
    </table>
  </div>
</div>
